# php_course

##Домашнее задание №1
1. Возьмите свой любимый фреймворк и начните на нем новый проект. Всё, что я от вас хочу сейчас - это:
    - [x] Чтобы фреймворк вы подключали через **composer**
    - [x] В проекте был файл с конфигом, где есть настройка "домен сайта" (например "**test.com**")
    - [x] Сам проект представлял собой веб-приложение с одной главной страницей, на которой написано "Добро пожаловать на **test.com**", причем, как вы понимаете, это вот берётся из конфига
2. Положите получившийся проект в репозиторий на GitHub
3. Напишите на Phing скрипт сборки проекта `PROJECT_DIR/build/production/build.xml`, который:
    - [x] Запишет в локальную переменную путь до папки, куда надо скопировать проект
    - [x] Запишет в другую переменную домен
    - [x] Скопирует в папку все файлы
    - [x] А конфиг скопирует, заменяя в нем строку "**{{domain}}**" на переменную из пункта 3.2
    - [x] Выполнит composer install
4. Копировать файлы phing будет не в папку htdocs (условно), а в `htdocs/2016-04-01-12-01-02` (эти цифры - текущая дата и время). А затем сделает на эту папку симлинк `htdocs/current` (затирая предыдущий)
#
##Домашнее задание №2
1. Создайте в своем проекте (возможно, для этого достаточно описать в конфиге) подключение к базе данных.
2. Повторите сделанное на уроке - отдельный файл конфига для production, его копирование на постоянное место при сборке, подстановка пароля из аргументов запуска сценария сборки.
3. С помощью системы миграций своего фреймворка создайте 2 миграции:
    - [x] Создает таблицу пользователей, создает первого пользователя
    - [x] Создает таблицу ролей, заполняет ее ролями **"Админ"**, **"Пользователь"**, связывает первого пользователя с ролью **"Админ"**
4. Внесите в скрипт сборки применение миграций, протестируйте
5. Допустим, что вам нужно написать миграцию, которая удалит ненужную таблицу со всеми ее данными. С методом `up()` всё понятно. Предложите варианты - как написать `down()` для такой миграции?
    > Предлогаемое решение: для начала в методе `up()` добавить сохранение и архивирование всех данных таблицы, а в методе `down()` вернуть таблицу которую удалили, а затем в ручную или при помощи дополнительного метода вернуть данные которые мы сохранили.